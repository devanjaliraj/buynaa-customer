'use strict';

module.exports = {
	abs: 'https://262.ecma-international.org/12.0/#eqn-abs',
	'Abstract Equality Comparison': 'https://262.ecma-international.org/12.0/#sec-abstract-equality-comparison',
	'Abstract Relational Comparison': 'https://262.ecma-international.org/12.0/#sec-abstract-relational-comparison',
	AddEntriesFromIterable: 'https://262.ecma-international.org/12.0/#sec-add-entries-from-iterable',
	AddRestrictedFunctionProperties: 'https://262.ecma-international.org/12.0/#sec-addrestrictedfunctionproperties',
	AddToKeptObjects: 'https://262.ecma-international.org/12.0/#sec-addtokeptobjects',
	AddWaiter: 'https://262.ecma-international.org/12.0/#sec-addwaiter',
	AdvanceStringIndex: 'https://262.ecma-international.org/12.0/#sec-advancestringindex',
	'agent-order': 'https://262.ecma-international.org/12.0/#sec-agent-order',
	AgentCanSuspend: 'https://262.ecma-international.org/12.0/#sec-agentcansuspend',
	AgentSignifier: 'https://262.ecma-international.org/12.0/#sec-agentsignifier',
	AllocateArrayBuffer: 'https://262.ecma-international.org/12.0/#sec-allocatearraybuffer',
	AllocateSharedArrayBuffer: 'https://262.ecma-international.org/12.0/#sec-allocatesharedarraybuffer',
	AllocateTypedArray: 'https://262.ecma-international.org/12.0/#sec-allocatetypedarray',
	AllocateTypedArrayBuffer: 'https://262.ecma-international.org/12.0/#sec-allocatetypedarraybuffer',
	ApplyStringOrNumericBinaryOperator: 'https://262.ecma-international.org/12.0/#sec-applystringornumericbinaryoperator',
	ArrayCreate: 'https://262.ecma-international.org/12.0/#sec-arraycreate',
	ArraySetLength: 'https://262.ecma-international.org/12.0/#sec-arraysetlength',
	ArraySpeciesCreate: 'https://262.ecma-international.org/12.0/#sec-arrayspeciescreate',
	AsyncFromSyncIteratorContinuation: 'https://262.ecma-international.org/12.0/#sec-asyncfromsynciteratorcontinuation',
	AsyncFunctionStart: 'https://262.ecma-international.org/12.0/#sec-async-functions-abstract-operations-async-function-start',
	AsyncGeneratorEnqueue: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorenqueue',
	AsyncGeneratorReject: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorreject',
	AsyncGeneratorResolve: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorresolve',
	AsyncGeneratorResumeNext: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorresumenext',
	AsyncGeneratorStart: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorstart',
	AsyncGeneratorValidate: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratorvalidate',
	AsyncGeneratorYield: 'https://262.ecma-international.org/12.0/#sec-asyncgeneratoryield',
	AsyncIteratorClose: 'https://262.ecma-international.org/12.0/#sec-asynciteratorclose',
	AtomicReadModifyWrite: 'https://262.ecma-international.org/12.0/#sec-atomicreadmodifywrite',
	Await: 'https://262.ecma-international.org/12.0/#await',
	BackreferenceMatcher: 'https://262.ecma-international.org/12.0/#sec-backreference-matcher',
	'BigInt::add': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-add',
	'BigInt::bitwiseAND': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-bitwiseAND',
	'BigInt::bitwiseNOT': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-bitwiseNOT',
	'BigInt::bitwiseOR': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-bitwiseOR',
	'BigInt::bitwiseXOR': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-bitwiseXOR',
	'BigInt::divide': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-divide',
	'BigInt::equal': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-equal',
	'BigInt::exponentiate': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-exponentiate',
	'BigInt::leftShift': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-leftShift',
	'BigInt::lessThan': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-lessThan',
	'BigInt::multiply': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-multiply',
	'BigInt::remainder': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-remainder',
	'BigInt::sameValue': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-sameValue',
	'BigInt::sameValueZero': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-sameValueZero',
	'BigInt::signedRightShift': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-signedRightShift',
	'BigInt::subtract': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-subtract',
	'BigInt::toString': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-tostring',
	'BigInt::unaryMinus': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-unaryMinus',
	'BigInt::unsignedRightShift': 'https://262.ecma-international.org/12.0/#sec-numeric-types-bigint-unsignedRightShift',
	BigIntBitwiseOp: 'https://262.ecma-international.org/12.0/#sec-bigintbitwiseop',
	BinaryAnd: 'https://262.ecma-international.org/12.0/#sec-binaryand',
	BinaryOr: 'https://262.ecma-international.org/12.0/#sec-binaryor',
	BinaryXor: 'https://262.ecma-international.org/12.0/#sec-binaryxor',
	BlockDeclarationInstantiation: 'https://262.ecma-international.org/12.0/#sec-blockdeclarationinstantiation',
	BoundFunctionCreate: 'https://262.ecma-international.org/12.0/#sec-boundfunctioncreate',
	ByteListBitwiseOp: 'https://262.ecma-international.org/12.0/#sec-bytelistbitwiseop',
	ByteListEqual: 'https://262.ecma-international.org/12.0/#sec-bytelistequal',
	Call: 'https://262.ecma-international.org/12.0/#sec-call',
	Canonicalize: 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-canonicalize-ch',
	CanonicalNumericIndexString: 'https://262.ecma-international.org/12.0/#sec-canonicalnumericindexstring',
	CaseClauseIsSelected: 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-caseclauseisselected',
	CharacterRange: 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrange-abstract-operation',
	CharacterRangeOrUnion: 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-characterrangeorunion-abstract-operation',
	CharacterSetMatcher: 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-charactersetmatcher-abstract-operation',
	clamp: 'https://262.ecma-international.org/12.0/#clamping',
	CleanupFinalizationRegistry: 'https://262.ecma-international.org/12.0/#sec-cleanup-finalization-registry',
	ClearKeptObjects: 'https://262.ecma-international.org/12.0/#sec-clear-kept-objects',
	CloneArrayBuffer: 'https://262.ecma-international.org/12.0/#sec-clonearraybuffer',
	CodePointAt: 'https://262.ecma-international.org/12.0/#sec-codepointat',
	CodePointsToString: 'https://262.ecma-international.org/12.0/#sec-codepointstostring',
	CompletePropertyDescriptor: 'https://262.ecma-international.org/12.0/#sec-completepropertydescriptor',
	Completion: 'https://262.ecma-international.org/12.0/#sec-completion-record-specification-type',
	ComposeWriteEventBytes: 'https://262.ecma-international.org/12.0/#sec-composewriteeventbytes',
	Construct: 'https://262.ecma-international.org/12.0/#sec-construct',
	CopyDataBlockBytes: 'https://262.ecma-international.org/12.0/#sec-copydatablockbytes',
	CopyDataProperties: 'https://262.ecma-international.org/12.0/#sec-copydataproperties',
	CreateArrayFromList: 'https://262.ecma-international.org/12.0/#sec-createarrayfromlist',
	CreateArrayIterator: 'https://262.ecma-international.org/12.0/#sec-createarrayiterator',
	CreateAsyncFromSyncIterator: 'https://262.ecma-international.org/12.0/#sec-createasyncfromsynciterator',
	CreateAsyncIteratorFromClosure: 'https://262.ecma-international.org/12.0/#sec-createasynciteratorfromclosure',
	CreateBuiltinFunction: 'https://262.ecma-international.org/12.0/#sec-createbuiltinfunction',
	CreateByteDataBlock: 'https://262.ecma-international.org/12.0/#sec-createbytedatablock',
	CreateDataProperty: 'https://262.ecma-international.org/12.0/#sec-createdataproperty',
	CreateDataPropertyOrThrow: 'https://262.ecma-international.org/12.0/#sec-createdatapropertyorthrow',
	CreateDynamicFunction: 'https://262.ecma-international.org/12.0/#sec-createdynamicfunction',
	CreateForInIterator: 'https://262.ecma-international.org/12.0/#sec-createforiniterator',
	CreateHTML: 'https://262.ecma-international.org/12.0/#sec-createhtml',
	CreateIntrinsics: 'https://262.ecma-international.org/12.0/#sec-createintrinsics',
	CreateIteratorFromClosure: 'https://262.ecma-international.org/12.0/#sec-createiteratorfromclosure',
	CreateIterResultObject: 'https://262.ecma-international.org/12.0/#sec-createiterresultobject',
	CreateListFromArrayLike: 'https://262.ecma-international.org/12.0/#sec-createlistfromarraylike',
	CreateListIteratorRecord: 'https://262.ecma-international.org/12.0/#sec-createlistiteratorRecord',
	CreateMapIterator: 'https://262.ecma-international.org/12.0/#sec-createmapiterator',
	CreateMappedArgumentsObject: 'https://262.ecma-international.org/12.0/#sec-createmappedargumentsobject',
	CreateMethodProperty: 'https://262.ecma-international.org/12.0/#sec-createmethodproperty',
	CreatePerIterationEnvironment: 'https://262.ecma-international.org/12.0/#sec-createperiterationenvironment',
	CreateRealm: 'https://262.ecma-international.org/12.0/#sec-createrealm',
	CreateRegExpStringIterator: 'https://262.ecma-international.org/12.0/#sec-createregexpstringiterator',
	CreateResolvingFunctions: 'https://262.ecma-international.org/12.0/#sec-createresolvingfunctions',
	CreateSetIterator: 'https://262.ecma-international.org/12.0/#sec-createsetiterator',
	CreateSharedByteDataBlock: 'https://262.ecma-international.org/12.0/#sec-createsharedbytedatablock',
	CreateUnmappedArgumentsObject: 'https://262.ecma-international.org/12.0/#sec-createunmappedargumentsobject',
	DateFromTime: 'https://262.ecma-international.org/12.0/#sec-date-number',
	DateString: 'https://262.ecma-international.org/12.0/#sec-datestring',
	Day: 'https://262.ecma-international.org/12.0/#eqn-Day',
	DayFromYear: 'https://262.ecma-international.org/12.0/#eqn-DaysFromYear',
	DaysInYear: 'https://262.ecma-international.org/12.0/#eqn-DaysInYear',
	DayWithinYear: 'https://262.ecma-international.org/12.0/#eqn-DayWithinYear',
	Decode: 'https://262.ecma-international.org/12.0/#sec-decode',
	DefinePropertyOrThrow: 'https://262.ecma-international.org/12.0/#sec-definepropertyorthrow',
	DeletePropertyOrThrow: 'https://262.ecma-international.org/12.0/#sec-deletepropertyorthrow',
	DetachArrayBuffer: 'https://262.ecma-international.org/12.0/#sec-detacharraybuffer',
	Encode: 'https://262.ecma-international.org/12.0/#sec-encode',
	EnterCriticalSection: 'https://262.ecma-international.org/12.0/#sec-entercriticalsection',
	EnumerableOwnPropertyNames: 'https://262.ecma-international.org/12.0/#sec-enumerableownpropertynames',
	EnumerateObjectProperties: 'https://262.ecma-international.org/12.0/#sec-enumerate-object-properties',
	EscapeRegExpPattern: 'https://262.ecma-international.org/12.0/#sec-escaperegexppattern',
	EvalDeclarationInstantiation: 'https://262.ecma-international.org/12.0/#sec-evaldeclarationinstantiation',
	EvaluateCall: 'https://262.ecma-international.org/12.0/#sec-evaluatecall',
	EvaluateNew: 'https://262.ecma-international.org/12.0/#sec-evaluatenew',
	EvaluatePropertyAccessWithExpressionKey: 'https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-expression-key',
	EvaluatePropertyAccessWithIdentifierKey: 'https://262.ecma-international.org/12.0/#sec-evaluate-property-access-with-identifier-key',
	EvaluateStringOrNumericBinaryExpression: 'https://262.ecma-international.org/12.0/#sec-evaluatestringornumericbinaryexpression',
	EventSet: 'https://262.ecma-international.org/12.0/#sec-event-set',
	ExecuteModule: 'https://262.ecma-international.org/12.0/#sec-source-text-module-record-execute-module',
	FinishDynamicImport: 'https://262.ecma-international.org/12.0/#sec-finishdynamicimport',
	FlattenIntoArray: 'https://262.ecma-international.org/12.0/#sec-flattenintoarray',
	floor: 'https://262.ecma-international.org/12.0/#eqn-floor',
	ForBodyEvaluation: 'https://262.ecma-international.org/12.0/#sec-forbodyevaluation',
	'ForIn/OfBodyEvaluation': 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-forin-div-ofbodyevaluation-lhs-stmt-iterator-lhskind-labelset',
	'ForIn/OfHeadEvaluation': 'https://262.ecma-international.org/12.0/#sec-runtime-semantics-forinofheadevaluation',
	FromPropertyDescriptor: 'https://262.ecma-international.org/12.0/#sec-frompropertydescriptor',
	FulfillPromise: 'https://262.ecma-international.org/12.0/#sec-fulfillpromise',
	FunctionDeclarationInstantiation: 'https://262.ecma-international.org/12.0/#sec-functiondeclarationinstantiation',
	GeneratorResume: 'https://262.ecma-international.org/12.0/#sec-generatorresume',
	GeneratorResumeAbrupt: 'https://262.ecma-international.org/12.0/#sec-generatorresumeabrupt',
	GeneratorStart: 'https://262.ecma-international.org/12.0/#sec-generatorstart',
	GeneratorValidate: 'https://262.ecma-international.org/12.0/#sec-generatorvalidate',
	GeneratorYield: 'https://262.ecma-international.org/12.0/#sec-generatoryield',
	Get: 'https://262.ecma-international.org/12.0/#sec-get-o-p',
	GetActiveScriptOrModule: 'https://262.ecma-international.org/12.0/#sec-getactivescriptormodule',
	GetFunctionRealm: 'https://262.ecma-international.org/12.0/#sec-getfunctionrealm',
	GetGeneratorKind: 'https://262.ecma-international.org/12.0/#sec-getgeneratorkind',
	GetGlobalObject: 'https://262.ecma-international.org/12.0/#sec-getglobalobject',
	GetIdentifierReference: 'https://262.ecma-international.org/12.0/#sec-getidentifierreference',
	GetIterator: 'https://262.ecma-international.org/12.0/#sec-getiterator',
	GetMethod: 'https://262.ecma-international.org/12.0/#sec-getmethod',
	GetModifySetValueInBuffer: 'https://262.ecma-international.org/12.0/#sec-getmodifysetvalueinbuffer',
	GetModuleNamespace: 'https://262.ecma-international.org/12.0/#sec-getmodulenamespace',
	GetNewTarget: 'https://262.ecma-international.org/12.0/#sec-getnewtarget',
	GetOwnPropertyKeys: 'https://262.ecma-international.org/12.0/#sec-getownpropertykeys',
	GetPromiseResolve: 'https://262.ecma-international.org/12.0/#sec-getpromiseresolve',
	GetPrototypeFromConstructor: 'https://262.ecma-international.org/12.0/#sec-getprototypefromconstructor',
	GetSubstitution: 'https://262.ecma-international.org/12.0/#sec-getsubstitution',
	GetSuperConstructor: 'https://262.ecma-international.org/12.0/#sec-getsuperconstructor',
	GetTemplateObject: 'https://262.ecma-international.org/12.0/#sec-gettemplateobject',
	GetThisEnvironment: 'https://262.ecma-international.org/12.0/#sec-getthisenvironment',
	GetThisValue: 'https://262.ecma-international.org/12.0/#sec-getthisvalue',
	GetV: 'https://262.ecma-international.org/12.0/#sec-getv',
	GetValue: 'https://262.ecma-international.org/12.0/#sec-getvalue',
	GetValueFromBuffer: 'https://262.ecma-international.org/12.0/#sec-getvaluefrombuffer',
	GetViewValue: 'https://262.ecma-international.org/12.0/#sec-getviewvalue',
	GetWaiterList: 'https://262.ecma-international.org/12.0/#sec-getwaiterlist',
	GlobalDeclarationInstantiation: 'https://262.ecma-international.org/12.0/#sec-globaldeclarationinstantiation',
	'happens-before': 'https://262.ecma-international.org/12.0/#sec-happens-before',
	HasOwnProperty: 'https://262.ecma-international.org/12.0/#sec-hasownproperty',
	HasProperty: 'https://262.ecma-international.org/12.0/#sec-hasproperty',
	'host-synchronizes-with': 'https://262.ecma-international.org/12.0/#sec-host-synchronizes-with',
	HostCallJobCallback: 'https://262.ecma-international.org/12.0/#sec-hostcalljobcallback',
	HostEnqueueFinalizationRegistryCleanupJob: 'https://262.ecma-international.org/12.0/#sec-host-cleanup-finalization-registry',
	HostEnqueuePromiseJob: 'https://262.ecma-international.org/12.0/#sec-hostenqueuepromisejob',
	HostEnsureCanCompileStrings: 'https://262.ecma-international.org/12.0/#sec-hostensurecancompilestrings',
	HostEventSet: 'https://262.ecma-international.org/12.0/#sec-hosteventset',
	HostFinalizeImportMeta: 'https://262.ecma-international.org/12.0/#sec-hostfinalizeimportmeta',
	HostGetImportMetaProperties: 'https://262.ecma-international.org/12.0/#sec-hostgetimportmetaproperties',
	HostHasSourceTextAvailable: 'https://262.ecma-"use strict";

// Returns "Type(value) is Object" in ES terminology.
function isObject(value) {
  return typeof value === "object" && value !== null || typeof value === "function";
}

function getReferenceToBytes(bufferSource) {
  // Node.js' Buffer does not allow subclassing for now, so we can get away with a prototype object check for perf.
  if (Object.getPrototypeOf(bufferSource) === Buffer.prototype) {
    return bufferSource;
  }
  if (bufferSource instanceof ArrayBuffer) {
    return Buffer.from(bufferSource);
  }
  return Buffer.from(bufferSource.buffer, bufferSource.byteOffset, bufferSource.byteLength);
}

function getCopyToBytes(bufferSource) {
  return Buffer.from(getReferenceToBytes(bufferSource));
}

function mixin(target, source) {
  const keys = Object.getOwnPropertyNames(source);
  for (let i = 0; i < keys.length; ++i) {
    if (keys[i] in target) {
      continue;
    }

    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));
  }
}

const wrapperSymbol = Symbol("wrapper");
const implSymbol = Symbol("impl");
const sameObjectCaches = Symbol("SameObject caches");

function getSameObject(wrapper, prop, creator) {
  if (!wrapper[sameObjectCaches]) {
    wrapper[sameObjectCaches] = Object.create(null);
  }

  if (prop in wrapper[sameObjectCaches]) {
    return wrapper[sameObjectCaches][prop];
  }

  wrapper[sameObjectCaches][prop] = creator();
  return wrapper[sameObjectCaches][prop];
}

function wrapperForImpl(impl) {
  return impl ? impl[wrapperSymbol] : null;
}

function implForWrapper(wrapper) {
  return wrapper ? wrapper[implSymbol] : null;
}

function tryWrapperForImpl(impl) {
  const wrapper = wrapperForImpl(impl);
  return wrapper ? wrapper : impl;
}

function tryImplForWrapper(wrapper) {
  const impl = implForWrapper(wrapper);
  return impl ? impl : wrapper;
}

const iterInternalSymbol = Symbol("internal");
const IteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));

function isArrayIndexPropName(P) {
  if (typeof P !== "string") {
    return false;
  }
  const i = P >>> 0;
  if (i === Math.pow(2, 32) - 1) {
    return false;
  }
  const s = `${i}`;
  if (P !== s) {
    return false;
  }
  return true;
}

const supportsPropertyIndex = Symbol("supports property index");
const supportedPropertyIndices = Symbol("supported property indices");
const supportsPropertyName = Symbol("supports property name");
const supportedPropertyNames = Symbol("supported property names");
const indexedGet = Symbol("indexed property get");
const indexedSetNew = Symbol("indexed property set new");
const indexedSetExisting = Symbol("indexed property set existing");
const namedGet = Symbol("named property get");
const namedSetNew = Symbol("named property set new");
const namedSetExisting = Symbol("named property set existing");
const namedDelete = Symbol("named property delete");

module.exports = exports = {
  isObject,
  getReferenceToBytes,
  getCopyToBytes,
  mixin,
  wrapperSymbol,
  implSymbol,
  getSameObject,
  wrapperForImpl,
  implForWrapper,
  tryWrapperForImpl,
  tryI